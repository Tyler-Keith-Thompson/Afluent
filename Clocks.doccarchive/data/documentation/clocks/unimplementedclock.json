{"metadata":{"platforms":[{"deprecated":false,"unavailable":false,"name":"iOS","introducedAt":"16.0","beta":false},{"name":"macOS","unavailable":false,"deprecated":false,"introducedAt":"13.0","beta":false},{"introducedAt":"16.0","beta":false,"unavailable":false,"deprecated":false,"name":"tvOS"},{"unavailable":false,"name":"watchOS","beta":false,"introducedAt":"9.0","deprecated":false}],"remoteSource":{"fileName":"UnimplementedClock.swift","url":"https:\/\/github.com\/Tyler-Keith-Thompson\/Afluent\/blob\/main\/.build\/checkouts\/swift-clocks\/Sources\/Clocks\/UnimplementedClock.swift#L68"},"modules":[{"name":"Clocks"}],"title":"UnimplementedClock","navigatorTitle":[{"kind":"identifier","text":"UnimplementedClock"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"UnimplementedClock"}],"externalID":"s:6Clocks18UnimplementedClockV","symbolKind":"struct","role":"symbol","roleHeading":"Structure"},"sections":[],"hierarchy":{"paths":[["doc:\/\/Clocks\/documentation\/Clocks"]]},"seeAlsoSections":[{"generated":true,"title":"Implementations","anchor":"Implementations","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/ImmediateClock","doc:\/\/Clocks\/documentation\/Clocks\/TestClock"]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"kind":"symbol","topicSections":[{"anchor":"Creating-unimplemented-clocks","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/init(name:)"],"title":"Creating unimplemented clocks"},{"identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/Instant"],"anchor":"Structures","generated":true,"title":"Structures"},{"title":"Initializers","generated":true,"identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/init(_:name:fileID:filePath:line:column:)","doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/init(name:now:fileID:filePath:line:column:)"],"anchor":"Initializers"},{"generated":true,"title":"Instance Properties","identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/minimumResolution","doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/now"],"anchor":"Instance-Properties"},{"identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/sleep(until:tolerance:)"],"anchor":"Instance-Methods","title":"Instance Methods","generated":true},{"identifiers":["doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/Clock-Implementations","doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/Clock-Implementations"],"generated":true,"anchor":"Default-Implementations","title":"Default Implementations"}],"relationshipsSections":[{"title":"Conforms To","kind":"relationships","type":"conformsTo","identifiers":["doc:\/\/Clocks\/s8SendableP","doc:\/\/Clocks\/12_Concurrency5ClockP"]}],"identifier":{"url":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock","interfaceLanguage":"swift"},"abstract":[{"text":"A clock that causes an XCTest failure when any of its endpoints are invoked.","type":"text"}],"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"text":"struct","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"UnimplementedClock"},{"kind":"text","text":"<"},{"kind":"genericParameter","text":"Duration"},{"kind":"text","text":"> "},{"text":"where","kind":"keyword"},{"kind":"text","text":" "},{"text":"Duration","kind":"typeIdentifier"},{"kind":"text","text":" : "},{"text":"DurationProtocol","preciseIdentifier":"s:s16DurationProtocolP","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"Duration"},{"text":" : ","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:SH","text":"Hashable"}],"languages":["swift"],"platforms":["macOS"]}]},{"kind":"content","content":[{"type":"heading","anchor":"overview","text":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"This test is useful when a clock dependency must be provided to test a feature, but you don’t"},{"type":"text","text":" "},{"type":"text","text":"actually expect time-based asynchrony to occur in the particular execution flow you are"},{"type":"text","text":" "},{"type":"text","text":"exercising."}]},{"type":"paragraph","inlineContent":[{"text":"For example, consider the following model that encapsulates the behavior of being able to","type":"text"},{"text":" ","type":"text"},{"text":"increment and decrement a count, as well as starting and stopping a timer that increments","type":"text"},{"type":"text","text":" "},{"type":"text","text":"the counter every second:"}]},{"code":["@MainActor","class FeatureModel: ObservableObject {","  @Published var count = 0","  let clock: any Clock<Duration>","  var timerTask: Task<Void, Error>?","","  init(clock: some Clock<Duration>) {","    self.clock = clock","  }","  func incrementButtonTapped() {","    self.count += 1","  }","  func decrementButtonTapped() {","    self.count -= 1","  }","  func startTimerButtonTapped() {","    self.timerTask = Task {","      for await _ in self.clock.timer(interval: .seconds(5)) {","        self.count += 1","      }","    }","  }","  func stopTimerButtonTapped() {","    self.timerTask?.cancel()","    self.timerTask = nil","  }","}"],"type":"codeListing","syntax":"swift"},{"type":"paragraph","inlineContent":[{"type":"text","text":"If we test the flow of the user incrementing and decrementing the count, there is no need for"},{"text":" ","type":"text"},{"text":"the clock. We don’t expect any time-based asynchrony to occur. To make this clear, we can","type":"text"},{"type":"text","text":" "},{"type":"text","text":"use an "},{"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock","isActive":true,"type":"reference"},{"text":":","type":"text"}]},{"syntax":"swift","code":["func testIncrementDecrement() {","  let model = FeatureModel(clock: .unimplemented)","","  XCTAssertEqual(model.count, 0)","  self.model.incrementButtonTapped()","  XCTAssertEqual(model.count, 1)","  self.model.decrementButtonTapped()","  XCTAssertEqual(model.count, 0)","}"],"type":"codeListing"},{"inlineContent":[{"text":"If this test passes it definitively proves that the clock is not used at all in the user flow","type":"text"},{"text":" ","type":"text"},{"text":"being tested, making this test stronger. If in the future the increment and decrement endpoints","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"start making use of time-based asynchrony using the clock, we will be instantly notified by test"},{"text":" ","type":"text"},{"type":"text","text":"failures. This will help us find the tests that should be updated to assert on the new behavior"},{"type":"text","text":" "},{"type":"text","text":"in the feature."}],"type":"paragraph"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/clocks\/unimplementedclock"]}],"references":{"doc://Clocks/s8SendableP":{"identifier":"doc:\/\/Clocks\/s8SendableP","title":"Swift.Sendable","type":"unresolvable"},"doc://Clocks/documentation/Clocks":{"title":"Clocks","abstract":[{"text":"A few clocks that make working with Swift concurrency more testable and more versatile.","type":"text"}],"identifier":"doc:\/\/Clocks\/documentation\/Clocks","type":"topic","url":"\/documentation\/clocks","kind":"symbol","role":"collection"},"doc://Clocks/documentation/Clocks/UnimplementedClock/Instant":{"role":"symbol","navigatorTitle":[{"kind":"identifier","text":"Instant"}],"abstract":[],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Instant"}],"title":"UnimplementedClock.Instant","identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/Instant","type":"topic","url":"\/documentation\/clocks\/unimplementedclock\/instant","kind":"symbol"},"doc://Clocks/12_Concurrency5ClockP":{"identifier":"doc:\/\/Clocks\/12_Concurrency5ClockP","title":"_Concurrency.Clock","type":"unresolvable"},"doc://Clocks/documentation/Clocks/UnimplementedClock/minimumResolution":{"title":"minimumResolution","type":"topic","abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/minimumResolution","role":"symbol","kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"minimumResolution","kind":"identifier"},{"kind":"text","text":": "},{"text":"Duration","kind":"typeIdentifier"}],"url":"\/documentation\/clocks\/unimplementedclock\/minimumresolution"},"doc://Clocks/documentation/Clocks/UnimplementedClock/init(name:)":{"kind":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"(","kind":"text"},{"text":"name","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:SS","kind":"typeIdentifier","text":"String"},{"kind":"text","text":")"}],"conformance":{"conformancePrefix":[{"type":"text","text":"Conforms when"}],"constraints":[{"code":"Duration","type":"codeVoice"},{"text":" is ","type":"text"},{"code":"Duration","type":"codeVoice"},{"text":".","type":"text"}],"availabilityPrefix":[{"text":"Available when","type":"text"}]},"abstract":[],"type":"topic","identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/init(name:)","title":"init(name:)","role":"symbol","url":"\/documentation\/clocks\/unimplementedclock\/init(name:)"},"doc://Clocks/documentation/Clocks/UnimplementedClock/Clock-Implementations":{"abstract":[],"role":"collectionGroup","type":"topic","kind":"article","url":"\/documentation\/clocks\/unimplementedclock\/clock-implementations","identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/Clock-Implementations","title":"Clock Implementations"},"doc://Clocks/documentation/Clocks/UnimplementedClock/sleep(until:tolerance:)":{"fragments":[{"text":"func","kind":"keyword"},{"kind":"text","text":" "},{"text":"sleep","kind":"identifier"},{"kind":"text","text":"("},{"text":"until","kind":"externalParam"},{"kind":"text","text":": "},{"text":"UnimplementedClock","kind":"typeIdentifier","preciseIdentifier":"s:6Clocks18UnimplementedClockV"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":">."},{"text":"Instant","kind":"typeIdentifier","preciseIdentifier":"s:6Clocks18UnimplementedClockV7InstantV"},{"text":", ","kind":"text"},{"text":"tolerance","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Duration","kind":"typeIdentifier"},{"kind":"text","text":"?) "},{"kind":"keyword","text":"async"},{"kind":"text","text":" "},{"kind":"keyword","text":"throws"}],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/sleep(until:tolerance:)","kind":"symbol","role":"symbol","title":"sleep(until:tolerance:)","abstract":[],"url":"\/documentation\/clocks\/unimplementedclock\/sleep(until:tolerance:)","type":"topic"},"doc://Clocks/documentation/Clocks/UnimplementedClock/init(name:now:fileID:filePath:line:column:)":{"kind":"symbol","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"("},{"kind":"externalParam","text":"name"},{"kind":"text","text":": "},{"text":"String","kind":"typeIdentifier","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"text":"now","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"ImmediateClock","kind":"typeIdentifier","preciseIdentifier":"s:6Clocks14ImmediateClockC"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","text":"Duration"},{"kind":"text","text":">."},{"text":"Instant","kind":"typeIdentifier","preciseIdentifier":"s:6Clocks14ImmediateClockC7InstantV"},{"kind":"text","text":", "},{"text":"fileID","kind":"externalParam"},{"kind":"text","text":": "},{"preciseIdentifier":"s:s12StaticStringV","text":"StaticString","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"filePath"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:s12StaticStringV","text":"StaticString","kind":"typeIdentifier"},{"kind":"text","text":", "},{"kind":"externalParam","text":"line"},{"text":": ","kind":"text"},{"kind":"typeIdentifier","text":"UInt","preciseIdentifier":"s:Su"},{"text":", ","kind":"text"},{"text":"column","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Su","text":"UInt","kind":"typeIdentifier"},{"text":")","kind":"text"}],"abstract":[],"type":"topic","identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/init(name:now:fileID:filePath:line:column:)","title":"init(name:now:fileID:filePath:line:column:)","role":"symbol","url":"\/documentation\/clocks\/unimplementedclock\/init(name:now:fileid:filepath:line:column:)"},"doc://Clocks/documentation/Clocks/ImmediateClock":{"type":"topic","url":"\/documentation\/clocks\/immediateclock","identifier":"doc:\/\/Clocks\/documentation\/Clocks\/ImmediateClock","role":"symbol","title":"ImmediateClock","kind":"symbol","abstract":[{"text":"A clock that does not suspend when sleeping.","type":"text"}],"navigatorTitle":[{"text":"ImmediateClock","kind":"identifier"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"ImmediateClock","kind":"identifier"}]},"doc://Clocks/documentation/Clocks/UnimplementedClock":{"title":"UnimplementedClock","type":"topic","abstract":[{"type":"text","text":"A clock that causes an XCTest failure when any of its endpoints are invoked."}],"navigatorTitle":[{"text":"UnimplementedClock","kind":"identifier"}],"role":"symbol","url":"\/documentation\/clocks\/unimplementedclock","identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock","kind":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"text":"UnimplementedClock","kind":"identifier"}]},"doc://Clocks/documentation/Clocks/UnimplementedClock/now":{"abstract":[],"fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"text":"now","kind":"identifier"},{"kind":"text","text":": "},{"text":"UnimplementedClock","preciseIdentifier":"s:6Clocks18UnimplementedClockV","kind":"typeIdentifier"},{"text":"<","kind":"text"},{"text":"Duration","kind":"typeIdentifier"},{"kind":"text","text":">."},{"kind":"typeIdentifier","text":"Instant","preciseIdentifier":"s:6Clocks18UnimplementedClockV7InstantV"}],"type":"topic","url":"\/documentation\/clocks\/unimplementedclock\/now","role":"symbol","identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/now","title":"now","kind":"symbol"},"doc://Clocks/documentation/Clocks/TestClock":{"navigatorTitle":[{"text":"TestClock","kind":"identifier"}],"title":"TestClock","abstract":[{"type":"text","text":"A clock whose time can be controlled in a deterministic manner."}],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/TestClock","type":"topic","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"TestClock"}],"url":"\/documentation\/clocks\/testclock","kind":"symbol","role":"symbol"},"doc://Clocks/documentation/Clocks/UnimplementedClock/init(_:name:fileID:filePath:line:column:)":{"fragments":[{"text":"init","kind":"identifier"},{"text":"<","kind":"text"},{"text":"C","kind":"genericParameter"},{"text":">(","kind":"text"},{"text":"C","kind":"typeIdentifier"},{"kind":"text","text":", "},{"text":"name","kind":"externalParam"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"text":", ","kind":"text"},{"text":"fileID","kind":"externalParam"},{"kind":"text","text":": "},{"text":"StaticString","kind":"typeIdentifier","preciseIdentifier":"s:s12StaticStringV"},{"text":", ","kind":"text"},{"kind":"externalParam","text":"filePath"},{"kind":"text","text":": "},{"text":"StaticString","kind":"typeIdentifier","preciseIdentifier":"s:s12StaticStringV"},{"kind":"text","text":", "},{"text":"line","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"UInt","kind":"typeIdentifier","preciseIdentifier":"s:Su"},{"kind":"text","text":", "},{"text":"column","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"UInt","kind":"typeIdentifier","preciseIdentifier":"s:Su"},{"kind":"text","text":")"}],"title":"init(_:name:fileID:filePath:line:column:)","url":"\/documentation\/clocks\/unimplementedclock\/init(_:name:fileid:filepath:line:column:)","type":"topic","abstract":[],"identifier":"doc:\/\/Clocks\/documentation\/Clocks\/UnimplementedClock\/init(_:name:fileID:filePath:line:column:)","kind":"symbol","role":"symbol"}}}